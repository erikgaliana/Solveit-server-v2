(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{34:function(e,t,n){e.exports=n(62)},39:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(31),o=n.n(l),u=n(1),c=n(2),s=n(4),i=n(3),m=n(5),p=n(14),h=(n(39),n(12)),d=n(6),b=n(13),g=n.n(b),v=new(function(){function e(){Object(u.a)(this,e),this.auth=g.a.create({baseURL:"https://solve-it-app.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/signup",{username:t,password:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),f=r.a.createContext(),E=f.Consumer,y=f.Provider,O=function(e){return function(t){function n(){return Object(u.a)(this,n),Object(s.a)(this,Object(i.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(c.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(E,null,(function(n){var a=n.login,l=n.signup,o=n.user,u=n.logout,c=n.isLoggedin,s=n.isLoading;return r.a.createElement(e,Object.assign({login:a,signup:l,user:o,logout:u,isLoggedin:c,isLoading:s},t.props))}))}}]),n}(r.a.Component)},j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password;v.signup({username:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e){var t=e.username,a=e.password;v.login({username:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){v.logout().then((function(){return n.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,l=this.login,o=this.logout,u=this.signup;return r.a.createElement(y,{value:{isLoading:t,isLoggedin:n,user:a,login:l,logout:o,signup:u}},this.props.children)}}]),t}(r.a.Component),w=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.signup({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(d.b,{to:"/login"}," Login"))}}]),t}(a.Component)),k=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),C=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Private Route"))}}]),t}(a.Component),S=O(function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedin;return r.a.createElement("div",{style:{borderRadius:"5px",padding:"20px",background:"#686de0"}},a?r.a.createElement("div",null,r.a.createElement("p",null,"Hi ! ",t.username),r.a.createElement("button",{onClick:n},"Logout"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/MyProblems"}," ",r.a.createElement("button",null,"My Problems")," "),r.a.createElement(d.b,{to:"/AskProblem"}," ",r.a.createElement("button",null,"Ask a problem")," "),r.a.createElement(d.b,{to:"/ProblemsToSolve"}," ",r.a.createElement("button",null,"Problems to Solve")," "),r.a.createElement(d.b,{to:"/UserProfile"}," ",r.a.createElement("button",null,"User Profile")," ")):r.a.createElement("div",null,r.a.createElement(d.b,{to:"/login"}," ",r.a.createElement("button",null,"Login")," "),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/signup"}," ",r.a.createElement("button",null,"Signup")," ")))}}]),t}(a.Component)),L=new(function(){function e(){Object(u.a)(this,e),this.user=g.a.create({baseURL:"https://solve-it-app.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"getOneById",value:function(e){return this.user.get("/".concat(e)).then((function(e){return e.data}))}},{key:"updateUser",value:function(e,t){return this.user.put("/".concat(e),{userId:t}).then((function(e){return e.data}))}}]),e}()),x=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;L.getOneById(t).then((function(t){e.setState({user:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to solve it"),r.a.createElement("h2",null," your posted problems"),e.myproblems?e.myproblems.map((function(e){return r.a.createElement("div",{className:"problem",key:e._id},r.a.createElement(d.b,{to:"/MyProblems/details/".concat(e._id),className:"text-link"},r.a.createElement("p",null,"Problem :",e.text),r.a.createElement("p",null,"Category : ",e.category),r.a.createElement("p",null,"Answers : ",e.problemanswers.length)))})):r.a.createElement("p",null,"loading"))}}]),t}(a.Component));function P(e,t){return t.myproblems.find((function(t){return t._id===e}))}var A=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;L.getOneById(t).then((function(t){e.setState({user:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.match.params.id,t=this.state.user;return r.a.createElement("div",null,r.a.createElement("h2",null,"My problem asked is :"),r.a.createElement("h3",null,t.myproblems?P(e,t).text:r.a.createElement("p",null,"loading")),r.a.createElement("hr",null),r.a.createElement("h3",null,"Answers proposed"),t.myproblems?P(e,t).problemanswers.map((function(t){return r.a.createElement("div",{className:"answer",key:t._id},r.a.createElement(d.b,{to:"/MyProblems/details/".concat(e,"/AnswerDetails/").concat(t._id),className:"text-link"},r.a.createElement("p",null,"Answer : ",t.text)))})):r.a.createElement("p",null,"loading"))}}]),t}(a.Component)),_=new(function(){function e(){Object(u.a)(this,e),this.problem=g.a.create({baseURL:"https://solve-it-app.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"askproblem",value:function(e,t,n,a){return this.problem.post("problems",{category:e,text:t,pic:n,authorID:a}).then((function(e){return e.data}))}},{key:"updateproblem",value:function(e,t,n){return this.problem.put("problems/update/".concat(e),{solution:t,answerauthorId:n}).then((function(e){return e.data}))}}]),e}());function D(e,t,n){return t.myproblems.find((function(t){return t._id===e})).problemanswers.find((function(e){return e._id===n}))}var M=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n.updateUser=function(e){e.preventDefault();var t=n.state.user,a=n.props.match.params.id;console.log("inside upsating"),console.log("user id",t._id),console.log("problem id",a),L.updateUser(a,t._id).then((function(){console.log("user updatged")})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;L.getOneById(t).then((function(t){e.setState({user:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.match.params,t=e.id,n=e.AnsId,a=this.state.user;return r.a.createElement("div",null,r.a.createElement("h3",null,"My problem asked is : "),r.a.createElement("h3",null,a.myproblems?function(e,t){return t.myproblems.find((function(t){return t._id===e}))}(t,a).text:r.a.createElement("p",null,"loading")),r.a.createElement("hr",null),r.a.createElement("h3",null," Answer Details"),r.a.createElement("div",{className:"answer"},r.a.createElement("p",null,"Answer details :",a.myproblems?D(t,a,n).text:r.a.createElement("p",null,"loading")),r.a.createElement("p",null," Picture :",a.myproblems?D(t,a,n).pic:r.a.createElement("p",null,"loading"))),r.a.createElement("div",null," ",r.a.createElement("button",{onClick:this.updateUser},"Add to Problems Solved")," "),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/MyProblems/details/".concat(t)}," ",r.a.createElement("button",null,"Discard")," ")))}}]),t}(a.Component)),U=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;L.getOneById(t).then((function(t){e.setState({user:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",null,r.a.createElement("h1",null," Problems to solve "),e.problemstosolve?e.problemstosolve.map((function(e){return r.a.createElement("div",{className:"problem",key:e._id},r.a.createElement(d.b,{to:"/ProblemsToSolve/details/".concat(e._id),className:"text-link"},r.a.createElement("p",null,"Problem : ",e.text),r.a.createElement("p",null,"Pic : ",e.pic),r.a.createElement("p",null,"author : ",e.author.username)))})):r.a.createElement("p",null,"loading"))}}]),t}(a.Component)),I=new(function(){function e(){Object(u.a)(this,e),this.answer=g.a.create({baseURL:"https://solve-it-app.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"sendanswer",value:function(e,t,n,a,r){return this.answer.post("answers",{text:e,pic:t,category:n,problemtosolve:a,author:r}).then((function(e){return e.data}))}}]),e}());var N=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},decription:"",pic:"noimage.jpg"},n.handleformsubmit=function(e){e.preventDefault();var t=n.state,a=t.description,r=t.pic,l=n.props.match.params.id,o=n.state.user;I.sendanswer(a,r,o.expert,l,o._id).then((function(){n.setState({description:"",pic:"noimage.jpg"})})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;L.getOneById(t).then((function(t){e.setState({user:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.match.params.id,t=this.state.user;return r.a.createElement("div",null,r.a.createElement("h1",null," inside problem to solve details"),r.a.createElement("h4",null,t.problemstosolve?function(e,t){return t.problemstosolve.find((function(t){return t._id===e}))}(e,t).text:r.a.createElement("p",null,"loading")),r.a.createElement("br",null),r.a.createElement("h5",null,"propose solution :"),r.a.createElement("form",{onSubmit:this.handleformsubmit},r.a.createElement("label",null,"Aneswer text :"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component)),B=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},description:"",category:"dogs",pic:"noimage.jpg"},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.category,r=t.description,l=t.pic,o=n.state.user;_.askproblem(a,r,l,o._id).then((function(){n.setState({description:"",category:"dogs",pic:"noimage.jpg"})})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;L.getOneById(t).then((function(t){e.setState({user:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Add a problem you would like to be solved"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Category:"),r.a.createElement("select",{name:"category",value:this.state.category,onChange:this.handleChange},r.a.createElement("option",{value:"dogs"},"Dogs"),r.a.createElement("option",{value:"cats"},"Cats"),r.a.createElement("option",{value:"parrots"},"Parrots")),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component));var F=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;L.getOneById(t).then((function(t){e.setState({user:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.user;return console.log("user",e),console.log("user solved problems",e.mysolvedproblems),r.a.createElement("div",null,r.a.createElement("div",{className:"Userprofile"},r.a.createElement("h2",null,"User's profile"),r.a.createElement("p",null,"Name : ",e.username),r.a.createElement("p",null,"Picture",e.pictureUrl),r.a.createElement("p",null,"Expert on :",e.expert),r.a.createElement("p",null,"Points :",e.points)),r.a.createElement("h3",null,"My Problems Solved"),e.mysolvedproblems?e.mysolvedproblems.map((function(e){return r.a.createElement("div",{className:"problem",key:e._id},r.a.createElement("p",null,"Problem :",e.text),r.a.createElement("p",null,"Category : ",e.category),r.a.createElement("hr",null),r.a.createElement("p",null,"Solution : ",e.solution[0].text),r.a.createElement("p",null,"Solution author: ",e.solution[0].author.username))})):r.a.createElement("p",null,"No solved problems"))}}]),t}(a.Component)),R=n(17);var T=O((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,l=Object(R.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},l,{render:function(e){return n?r.a.createElement(p.a,{to:"/MyProblems"}):r.a.createElement(t,e)}}))}));var J=O((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,l=Object(R.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},l,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),H=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null),r.a.createElement(p.d,null,r.a.createElement(T,{exact:!0,path:"/signup",component:w}),r.a.createElement(T,{exact:!0,path:"/login",component:k}),r.a.createElement(J,{exact:!0,path:"/private",component:C}),r.a.createElement(J,{exact:!0,path:"/MyProblems",component:x}),r.a.createElement(J,{exact:!0,path:"/MyProblems/details/:id",component:A}),r.a.createElement(J,{exact:!0,path:"/MyProblems/details/:id/AnswerDetails/:AnsId",component:M}),r.a.createElement(J,{exact:!0,path:"/ProblemsToSolve",component:U}),r.a.createElement(J,{exact:!0,path:"/ProblemsToSolve/details/:id",component:N}),r.a.createElement(J,{exact:!0,path:"/AskProblem",component:B}),r.a.createElement(J,{exact:!0,path:"/UserProfile",component:F})))}}]),t}(a.Component);o.a.render(r.a.createElement(d.a,null,r.a.createElement(j,null,r.a.createElement(H,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.76a338be.chunk.js.map